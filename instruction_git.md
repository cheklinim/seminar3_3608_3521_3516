# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

## Удаленные репозитории

Удаленный репоиторий это облачное хранилище ваших файлов.

Если репозиторий находится только на нашем компьютере, невозможно обеспечить доступ к нему членам команды, которые хотят поучаствовать вместе с вами в работе над этим проектом.

Кроме того, у нас самих также не будет возможности редактировать свой файл, если мы не имеем при себе своего компьютера. Это неудобно. 

Для организации работы с удаленными репозиториями существует целый ряд сервисов, одним из которых является __*github.com*__ от компании **Microsoft**.

Данный сервис позволяет интегрироваться с программой **git** и настроить удаленную работу с вашим репозиторием

### **Регистрация на github.com**

Чтобы начать работать с удаленными репозиториями, необходимо сначала зарегистрироваться на сервисе github. Для этого надо зайти на сайт

    https://github.com/

и нажать на кнопку **Sign up**.

После этого надо будет ввести свои учетные данные: 

* login           // Имя пользователя
* e-mail          // Адрес электронной почты 
* password        // Пароль

Регистрация пройдена

### **Создание удаленного репозитория**

Чтобы создать свой репозиторий на *github*'е, необходимо войти в свой аккаунт, нажать на значок "+" в правом верхнем углу экрана и выбрать пункт выпадающего меню "__*New repository*__"

В открывшемся окне "__*Create a new repository*__" задать имя создаваемого репозитория, поставить флаг **Public** (Private используется для закрытых проектов и если вы не хотите, чтобы кто-то другой имел доступ к вашему репозиторию), задать прочую информацию на свое усмотрение и нажать на зеленую кнопку **Create repository**. 

### **Копирование локального репозитория в удаленный**

Чтобы скопировать содержимое локального репозитория в удаленный, надо сначала получить ссылку на последний. Для этого мы заходим в этот репозиторий на github'е и нажимаем на зеленую кнопку **Code**.

Далее требуется "подружить" между собой наши локальный и удаленный репозитории. Для этого служат команды: 

    git remote add origin <Ссылка_на_удаленный_репозиторий>

    git branch -M master       // Имя главной ветки

Теперь можно заливать: 

    git push -u origin master

При первой попытке выполнить команду *__git push__* **hithub** обязательно предложит нам авторизоваться: он должен убедиться в том, что у нас есть право вносить изменения в удаленный репозиторий, куда мы пытаемся направить информацию. 

После того как наши репозитории - локальный и удаленный - "подружены", для переноса изменений, сделанных локально, в папку удаленного репозитория, достаточно будет краткой версии команды __*push*__: 

    git push

### **Вливание в локальный репозиторий изменений с удаленного репозитория**

Если мы внесли какие-то изменения в наш проект с чужого компьютера с использованием удаленного репозитория, то они не найдут свое отражение на локальном компьютере. 

Для того чтобы перенести их в локальный репозиторий, нужно воспользоваться командой: 

    git pull

**!!! ВАЖНО**: Команда git pull является по сути составной командой: она не только вставит все изменения, но и попытается слить наши ветки: слить состояние, которое мы имеем на github’е с текущим состоянием нашего локального репозитория. 

### **Как принять участие в чужом проекте**

Если у нас возникло желание поучаствовать в работе над некоторым публичным проектом и мы знаем путь к репозиторию, где этот проект хранится, мы можем это сделать, если у нас есть регистрация на **github.com**.

#### __*Команда Fork*__

Первым делом нам надо будет под своим аккаунтом создать свою собственную копию данного проекта. Для этого надо зайти в папку проекта по имеющейся у нас ссылке и нажать в ней на кнопку с надписью

    Fork

При этом в нашем аккаунте появится папка с точно таким же названием, в которой мы вольны делать любые изменения. 

#### __*Работа по внесению изменений*__

Чтобы внести изменения: 

1. Создадим на своем локальном компьютере клон папки, которую мы получили у себя в репозитории нажатием на кнопку **Fork**
2. В ней создадим новую ветку, в которой будем производить все свои правки - это правило хорошего тона: не делать никаких изменение в ветке **main** (**master**) (такие правки никто даже рассматривать не будет). 
3. Произведя все необходимые изменения, делаем **_git add_** и **_git commit_** (по ходу дела делаем промежуточные коммиты)
4. Выполняем команду **_git push_** - заливаем изменения в свой удаленный репозиторий

#### __*Направление запроса на внесение изменений хозяину проекта*__

После того как в удаленный репозиторий залиты все правки, которые мы хотели внести, можно предлагать их владельцам проекта, в создании которого мы решили поучаствовать. 
Чтобы сделать это, надо сначала нажать на кнопку __*Contribute*__, а затем - на зеленую кнопку **Pull Request**. 

Нам будет предложено добавить комментарий к предлагаемым правкам. Желательно это сделать. 

Добавляем комментарий и жмем еще раз на кнопку **Pull request**.

И все. Наши изменения отправлены на рассмотрение. 

    Иван, Вам огромное спасибо за прекрасные семинары и быструю реакцию на наши обращения!!! С Вами очень приятно работать!