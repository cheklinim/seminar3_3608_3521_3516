# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

## Удаленные репозитории

Удаленный (в противопоставлению локальному) репозиторий - это облачное хранилище ваших файлов.
Чаще всего (для обычных граждан) такие репозитории сконцентрированны на специальных серверах, таких как GitHub. 

Так можно настроить и для себя. Предположим, что у вас уже есть локальный репозиторий. 
Далее вам следует пройти идентификацию на GitHub: создать учётную запись (если у вас её нет) и ввести логин и пороль. 
Теперь, когда вы попали на сайт GitHub, вам надо создать новый репозитарий. При создании нового репозитория вы можете его предварительно настроить. А можете оставить всё как есть, выбрав только параметр приватности или общедоступности.

Предположим, вы создали его пустым (без README, LICENSE, .gitignore и прочего).
На GitHub у вас появился репозиторий, и сайт предложит вам несколько способов для соединения содержимого локального и удалённого репозитория.
* **Быстрая настройка, уже всё это делали**

В том числе таки добавить README, LICENSE, .gitignore и прочее.

__ИЛИ__

* **Создать репозиторий в командной строке**

Просто надо просто выполнить то, что написано. Строка за строкой.
Говоря иначе, создать и присоединить репозиторий.

        echo "# <repository_name>" >> README.md
        git init
        git add README.md
        git commit -m "first commit"
        git branch -M main
        git remote add origin https://github.com/<user_name>/<repository_name>.git
        git push -u origin main

*<user_name>* - ваше имя пользователя на GitHub     
*<repository_name>* - имя вашего репозитория на GitHub

* **Присоединить (отправить) репозиторий (локальный), если он уже создан** 

И снова надо просто сделать всё строка за строкой.

        git remote add origin https://github.com/<user_name>/<repository_name>.git
        git branch -M main
        git push -u origin main

*<user_name>* - ваше имя пользователя на GitHub     
*<repository_name>* - имя вашего репозитория на GitHub

 Как видите, этот пункт повторяет концовку предыдущего.

* **Импортировать код из другого репозитория**

Выберем вариант с отправкой созданного репозитория, и, соответственно,пропишем указанные команды в терминале для своего репозитория.

    git remote add origin https://github.com/<user_name>/<repository_name>.git

Эта команда добавляет удаллёный репозиторий, находящийся по адресу URL.

    git branch -M main

Эта вам уже знакома - создание новой ветки. Имя ветки "main". Или нет?..  Флажок "-M" говорит о том, что git переименует/перенесёт ветку и её журнал ссылок, ДАЖЕ если ветка существует.

    git push -u origin main

А эта команда настраивает передачу от вас к репозиторию на сайте.

Если всё сделано и настроено верно, то git у вас на первый раз запросит авторизацию, т.к мама учила не разговаривать с незнакомыми дядями и брать у них загрузки репозиториев. 

## Работа с репозиторием 

### Загрузка из локального реплозитория на сервер

Для этого используется уже увиденная нами команда

    Git push

Без флажков и расширений команда просто подгружает актуальные компонеты на сервер, если уже установлена связь. То, что у вас актуальнее репозиторий, вам сообщит git при очередном commit-е.

### Выгрузка из сервера на локальный реплозиторий

Если же ситуация обратная, и на сервере репозиторий актуальней вашего, то вы можете ~~устранить это недоразумение и восстановить справедливость~~ подгрузить себе актуальные данные следующей командой:

    git_pull

И репозиторий получит актуальные данные и commit в придачу, т.к. *git_pull* - это составная команда, которая не только подгружает, но и фиксирует изменения.

Опять же. Всё это работает при заранее установленной связи с удалённым репозиторием.

### Копирование репозиториев

Иногда возникает ситуация, когда хочется или нужно позаимствовать чужой репозиторий. Для этого есть отличный план. Надёжный как швейцарские часы.

1. Убедитесь, что репозиторий находится в свободном доступе.
2. Хорошим тоном будет сделать "форк" (с англ. *fork* - вилка). Т.е. скопировать на GitHub себе в учётку актуальный на момент форка репозиторий. 
Тем не менее, этот шаг можно пропустить, если, например, нет такой функции на сервере.
3. Копирование URL репозитория. Или того адреса, где он находится.
4. Теперь создаём директорию для этого репозитория, открываем git и пишем:
     
        git clone <URL-address>
    *< URL-address >* - куда вставляем адрес, скопированный в пункте 3.
5. Используем переход в необходимую директорию с репозиторием. Можно выполнить следующей командой:

        cd .\<dir>  

    .\<dir> - адрес директории с репозиторием. Можно ввести "cd" и нажать *TAB* - адрес сам подтянется.
6. Проверяете командой *git status*

7. ...

8. PROFIT!

### Запрос на добавление в репозиторий

После того, как вы внесли изменения в клонированный репозиторий и захотели поделится этим с владельцем репозитория, то вам надо будет сделать следующее:

1. Сделав форк к себе, вы можете подгрузить эти данные командой *git pull* на сервер.
2. Переходите на сайт сервера (GitHub, например), и уже оттуда делаете *Pull Request* автору репозитория, используя функционал сайта.

*// Если четсно, я не нашёл упоминания, можно ли делать Pull Request, используя терминал.*


### Запрос на добавление в репозиторий


